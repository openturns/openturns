%feature("docstring") OT::SaltelliSensitivityAlgorithm
"Sensitivity analysis using Saltelli method.

Available constructors:
    SaltelliSensitivityAlgorithm(*inputDesign, outputDesign, N*)

    SaltelliSensitivityAlgorithm(*distribution, N, model, computeSecondOrder*)

    SaltelliSensitivityAlgorithm(*experiment, model, computeSecondOrder*)

Parameters
----------
inputDesign : :class:`~openturns.Sample`
    Design for the evaluation of sensitivity indices, obtained with the
    :class:`~openturns.SobolIndicesExperiment`:code:`.`:meth:`~openturns.SobolIndicesExperiment.generate`
    method
outputDesign : :class:`~openturns.Sample`
    Design for the evaluation of sensitivity indices, obtained as the evaluation
    of a Function (model) on the previous inputDesign
distribution : :class:`~openturns.Distribution`
    Input probabilistic model.
    Should have independent copula
experiment : :class:`~openturns.WeightedExperiment`
    Experiment for the generation of two independent samples.
N : int
    Size of samples to generate
computeSecondOrder : bool
    If True, design that will be generated contains elements for the evaluation
    of second order indices.

Notes
-----
This class analyzes the influence of each component of a random vector
:math:`\vect{X} = \left( X^1, \ldots, X^{n_X} \right)` on a random vector
:math:`\vect{Y} = \left( Y^1, \ldots, Y^{n_Y} \right)` by computing Sobol' indices (see also [sobol1993]_).

The [saltelli2002]_ method is used to estimate both first
and total order indices.

**The class constructor** ``SaltelliSensitivityAlgorithm(inputDesign, outputDesign, N)``
**requires an** ``inputDesign`` **produced by** :class:`~openturns.SobolIndicesExperiment`
**(see example below). Otherwise, results will be worthless.**

Notations are defined in the documentation page of the :class:`~openturns.SobolIndicesAlgorithm` class.

The estimators of :math:`V_i` and :math:`V_{-i}` used by this class are respectively:

.. math::

   \begin{array}{ccc}
   \hat{V}_i & = & \frac{1}{N-1}\sum_{k=1}^{N} \tilde{G}(\vect{B}_k)  \tilde{G}(\vect{E}_k) - (\frac{1}{N} \sum_{k=1}^{N} \tilde{G}(\vect{A}_k)) (\frac{1}{N} \sum_{k=1}^{N} \tilde{G}(\vect{B}_k)) \\
   \hat{V}_{-i} & = & \frac{1}{N-1}\sum_{k=1}^{N} \tilde{G}(\vect{A}_k)  \tilde{G}(\vect{E}_k) - (\frac{1}{N} \sum_{k=1}^{N} \tilde{G}(\vect{A}_k)) (\frac{1}{N} \sum_{k=1}^{N} \tilde{G}(\vect{B}_k))
   \end{array}

The variance of the estimators is computed using:

.. math::

    \begin{array}{ccc}
    U_i = \left(\textsuperscript{c}Y_i^B \textsuperscript{c}Y_i^E, \left(\textsuperscript{c}Y_i^{A}\right)^2 \right)^T \\
    \Psi_i(x, y) = \frac{x}{y}
    \end{array}

.. math::

    \begin{array}{ccc}
    U_{-i} = \left(\textsuperscript{c}Y_i^A \textsuperscript{c}Y_i^E, \left(\textsuperscript{c}Y_i^{A}\right)^2 \right)^T \\
    \Psi_{-i}(x, y) = 1 - \frac{x}{y}
    \end{array}

See also
--------
SobolIndicesAlgorithm

Examples
--------

Estimate first and total order Sobol' indices:

>>> import openturns as ot
>>> ot.RandomGenerator.SetSeed(0)
>>> formula = ['sin(pi_*X1)+7*sin(pi_*X2)^2+0.1*(pi_*X3)^4*sin(pi_*X1)']
>>> model = ot.SymbolicFunction(['X1', 'X2', 'X3'], formula)
>>> distribution = ot.ComposedDistribution([ot.Uniform(-1.0, 1.0)] * 3)
>>> # Define designs to pre-compute
>>> size = 10000
>>> inputDesign = ot.SobolIndicesExperiment(distribution, size).generate()
>>> outputDesign = model(inputDesign)
>>> # sensitivity analysis algorithm
>>> sensitivityAnalysis = ot.SaltelliSensitivityAlgorithm(inputDesign, outputDesign, size)
>>> print(sensitivityAnalysis.getFirstOrderIndices())
[0.302745,0.460846,0.0066916]
>>> print(sensitivityAnalysis.getTotalOrderIndices())
[0.574996,0.427126,0.256689]"

